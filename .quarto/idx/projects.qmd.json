{"title":"PROJECT","markdown":{"yaml":{"title":"PROJECT","format":"dashboard"},"headingText":"visual_Redesign1","containsRefs":false,"markdown":"\n\n\n## row{.tabset}\n\n### Visual1\n#### row1\nORIGINAL VISUALISATION\n\n<img src=\"project_tab1.png\" alt=\"Description of Image\" width=\"50%\">\n\n#### row2\n\nVISUALISATION REDESIGN 1\n```{r}\n#NEW_GRAPH\nlibrary(ggplot2)\nlibrary(tidyverse)\n\n\n# Data for the donut chart\nmeal_summary <- data.frame(\n  Type = c(\"Breakfast\", \"Lunch\", \"Dinner\", \"Snacks\", \"Caloreies left\"),\n  Calories = c(1488, 704, 905, 303, 100)  # Total calories\n  #Percentage = c(43, 21, 27, 10)  # Percentages\n)\n\nmeal_summary <- meal_summary %>%\n  mutate(Percentage = round((Calories/3500)*100))\n\n# Step 1: Calculate the midpoint of the labels\nmeal_summary <- meal_summary %>%\n  arrange(desc(Type)) %>%\n  mutate(ypos = cumsum(Percentage) - 0.5 * Percentage)\n\n# Step 2: Create the donut chart\nggplot(meal_summary, aes(x = 2, y = Percentage, fill = Type)) +\n  geom_bar(stat = \"identity\", width = 1, color = \"white\") +\n  coord_polar(\"y\", start = 0) +  # Make it circular\n  xlim(0.5, 2.5) +  # Create a hole in the middle\n  geom_text(aes(y = ypos, label = paste0(Percentage, \"%\")), color = \"white\", size = 5) +  # Percentage labels\n  theme_void() +  # Remove background and axis\n  theme(legend.position = \"right\") +\n  scale_fill_brewer(palette = \"Set2\")  +\n  labs(title = \"Calories Distribution by Meal Type(NEW_VISUAL)\")\n\n```\n\n\n### Visual2\n#### row1\nORIGINAL VISUALIZATION  \n\n<img src=\"project_tab1.png\" alt=\"Description of Image\" width=\"50%\">\n\n#### row2\n\nVISUALIZATION REDESIGN 2\n```{r}\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\nmeal_data <- data.frame(\n  Meal_name = c(\"Brown Bread\", \"Boiled eggs\", \"Egg whites\", \"Rice\", \"Curry\", \"Curd\", \"Chicken breast\", \"Rice\", \n                \"Curry\", \"Chicken breast\", \"Milk\", \"Whey protein\", \"Almonds\", \"Boiled Eggs\", \"Banana\", \"Oats\", \"Peanut butter\"),\n  Quantity = c(\"2\", \"2\", \"4\", \"2 cups\", \"1 bowl\", \"100 gms\", \"200 gms\", \"2.25 cups\", \"1 bowl\", \"75 gms\", \"10 oz\", \n               \"66 gms\", \"10 gms\", \"2\", \"1\", \"130 gms\", \"20 gms\"),\n  Calories = c(121, 143, 69, 400, 186, 61, 288, 450, 186, 108, 188, 124, 69, 143, 105, 502, 129),\n  Type = c(\"snack\", \"snack\", \"snack\", \"Dinner\", \"Dinner\", \"Dinner\", \"Dinner\", \"Lunch\", \"Lunch\", \"Lunch\", \n           \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\")\n)\n\n\n# Step 1: Calculate the percentage of calories for each meal within each Type\nmeal_data <- meal_data %>%\n  group_by(Type) %>%\n  mutate(Percentage = Calories / sum(Calories) * 100)\n\ncustom_colors <- c(\"red\", \"blue\", \"green\", \"yellow\", \"purple\", \"orange\", \"pink\", \"brown\", \n                   \"cyan\", \"magenta\", \"grey\", \"darkgreen\", \"lightblue\", \"darkred\", \"lightgreen\")\n# Step 2: Create the stacked bar plot with calories and percentage labels\nggplot(meal_data, aes(x = Type, y = Calories, fill = Meal_name)) +\n  geom_bar(stat = \"identity\") + \n  geom_text(aes(label = paste0(Calories, \" cal (\", round(Percentage, 1), \"%)\")),\n            position = position_stack(vjust = 0.5), size = 3) +  # Add calorie and percentage labels\n  labs(title = \"Calories and Percentage per Meal Type\",\n       x = \"Meal Type\", \n       y = \"Calories\") +\n  theme_minimal() +\n  scale_fill_manual(values = custom_colors)\n```\n\n\n### document\n<h1 style=\"font-size: 2.5em;\">VISUALISATION ANALYSIS</h1>\n\n<img src=\"project_tab1.png\" alt=\"Description of Image\" width=\"20%\" class='centre'>\n\nThe pie chart below represents the calorie distribution across meals for a day.\n\nThe pie chart graph from MyFitnessPal shows meal breakdowns throughout the day, including the number of calories taken in Breakfast, Lunch, Dinner, and Snacks. The actual chart is labeled with the percentage of total calories each meal comprises. Specific calorie counts along with the percentage that each meal comprises are contained in a color-coded legend below the actual chart. The colored segments identify the types of meals easily, and thus their matched labels in the legend make interpretation very straightforward.\nThe labels for each slice in the pie chart are clear, giving both the percentage and the actual calorie count for each meal, the pie chart, key metrics are included such as Total Calories, Net Calories, and Goal, but does not mention how many more calories left to complete the goal. Although the total calories, net calories and the goal are shown below the chart, there is a complete lack of any visual indication whether the user has reached their goal. \n\nHowever, it has several design flaws as it is considered as bad graph\n\n- **Color Scheme**: The colors are too similar, making it hard to distinguish between categories.\n- **Labeling**: Percentages are shown inside the pie chart, but without meal names. It's unclear what each section represents without constantly referring to the legend.\n- **Graph Type**: A pie chart is not the best choice for comparing meal categories because differences are hard to perceive.\n- **Text Readability**: The labels are small and difficult to read, especially on mobile devices.\n\n\n\n\nfrom the above visualisation we gathered some data and made improved visualisations:\n\n<img src=\"fitness.png\" alt=\"Description of Image\" width=\"40%\" class='centre'>\n\n\n\nIt can be redesigned in certain ways to gather insights.\n\n\n<img src=\"bar_plot.png\" alt=\"Description of Image\" width=\"40%\" class='centre'>\n\nThe above visualization redesign gives you the clear representation meal names with calorie count is represented for every meal type using stacked plot.With every meal name taken along with percentage and calorie.\n\n<img src=\"donut_chart.png\" alt=\"Description of Image\" width=\"20%\" class='centre'>\n\nThe second redesign show the improved version of pie chart that is donut plot. Unlike the pie chart the donut plot describes the total calories left to have to complete the daily task. which is not shown in the original graph.\n\n\n\nYou can read more about fitnesspal\n[Wikipedia](https://www.myfitnesspal.com/).\n\n\n\n\n\n\n\n# visual_Redesign2\n## ROW{.tabset}\n### Visual1\n#### row1\n\nORIGINAL VISUALIZATION \n\n<img src=\"project_visual1.png\" alt=\"Description of Image\" width=\"80%\">\n\n#### row2\n\nVISUALIZATION REDESIGN 1\n```{r}\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(gridExtra)\nlibrary(ggimage)\nlibrary(tidyverse)\n\n\n# Visualization for figure 1: Data frame for market share\nmarket_data <- data.frame(\n  Country = c(\"Norway\", \"Iceland\", \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Market_Share = c(29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8),\n  Flag_URL = c('norway.png',\n               'iceland.png',\n               'sweden.png',\n               'denmark.png',\n               'netherlands.png',\n               'belgium.png',\n               'finland.png',\n               'swiss.png')\n)\n\n# Horizontal bar chart for market share\nplot1=ggplot(market_data, aes(x = reorder(Country, Market_Share), y = Market_Share)) +\n  geom_bar(stat = \"identity\", fill = \"seagreen\") +\n  geom_image(aes(image = Flag_URL), size = 0.3) +  # Removed 'by' argument\n  labs(title = \"Top Markets by PEV Market Share (December 2023)\",\n       x = \"Country\", y = \"Percentage of Plug-in  Cars in Use\") +\n  theme_minimal()\n\n\n\nsales_data <- data.frame(\n  Country = c(\"USA\", \"World\", \"Europe\", \"France\", \"UK\", \"Germany\", \"China\"),\n  Sales_Volume = c(2.1, 3.2, 3.8, 4.1, 5.0, 5.4, 7.6),\n  Flag_URL1 = c('usa.png','world.png',\n                'europe.png','france.png',\n                'uk.png','germeny.png',\n                'china.png')\n)\n\n#sales volume\nplot2=ggplot(sales_data, aes(x = reorder(Country, Sales_Volume), y = Sales_Volume)) +\n  geom_bar(stat = \"identity\", fill = \"lightblue\") +\n  geom_image(aes(image = Flag_URL1), size = 0.3) +\n  labs(title = \"Top Markets by PEV Sales Volume (December 2023)\",\n       x = \"Country\", y = \"Percentage of Plug-in Cars in Use\") +\n  theme_minimal()\n\n#plot\ngrid.arrange(plot1, plot2, ncol = 1)\n```\n\n\n### Visual2\n#### row1\nORIGIANL VISUALIZATION\n\n<img src=\"project_visual1.png\" alt=\"Description of Image\" width=\"80%\">\n\n#### row2\n\nVISUALIZATION REDESIGN 2\n```{r}\n\nlibrary(plotly)\n\n# Data for the PEV volume by country\npev_data <- data.frame(\n  Country = c(\"USA\", \"France\", \"UK\", \"Germany\", \"China\", \"Norway\", \"Iceland\", \n              \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Code = c(\"USA\", \"FRA\", \"GBR\", \"DEU\", \"CHN\", \"NOR\", \"ISL\", \n           \"SWE\", \"DNK\", \"NLD\", \"BEL\", \"FIN\", \"CHE\"),\n  PEV_Share = c(2.1, 4.1, 5.0, 5.4, 7.6, 29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8)\n)\n\n# Create the choropleth map for PEV Share\nfig <- plot_ly(pev_data, \n               type = 'choropleth', \n               locations = ~Code, \n               z = ~PEV_Share, \n               text = ~paste(Country, \"<br>PEV Share:\", PEV_Share, \"%\"),\n               colorscale = 'Greens', \n               autocolorscale = FALSE, \n               reversescale = TRUE, \n               marker = list(line = list(color = 'rgb(180,180,180)', width = 0.5)),\n               colorbar = list(title = 'PEV Volume (%)'))\n\n# Update the layout for the PEV map\nfig <- fig %>% layout(\n  title = 'PEV Volume by Country',\n  geo = list(\n    showframe = FALSE,\n    showcoastlines = TRUE,\n    showland = TRUE,\n    landcolor = \"rgb(217, 217, 217)\",\n    coastlinecolor = \"rgb(180, 180, 180)\",\n    projection = list(type = 'Mercator'),\n    countrycolor = 'rgb(180, 180, 180)',\n    countrywidth = 0.5\n  )\n)\n\n# Data for the Market Share by country\nmarket_share <- data.frame(\n  Country = c(\"Norway\", \"Iceland\", \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Code = c(\"NOR\", \"ISL\", \"SWE\", \"DNK\", \"NLD\", \"BEL\", \"FIN\", \"CHE\"),\n  Market_Share = c(29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8)\n)\n\n# Create the choropleth map for Market Share\nfig2 <- plot_ly(market_share, \n                 type = 'choropleth', \n                 locations = ~Code, \n                 z = ~Market_Share, \n                 text = ~paste(Country, \"<br>Market Share:\", Market_Share, \"%\"),\n                 colorscale = 'Blues',\n                 autocolorscale = FALSE, \n                 reversescale = TRUE, \n                 marker = list(line = list(color = 'rgb(180,180,180)', width = 0.5)),\n                 colorbar = list(title = 'Market Share (%)'))\n\n# Update the layout for the Market Share map\nfig2 <- fig2 %>% layout(\n  title = 'Market Share by Country',\n  geo = list(\n    showframe = FALSE,\n    showcoastlines = TRUE,\n    showland = TRUE,\n    landcolor = \"rgb(217, 217, 217)\",\n    coastlinecolor = \"rgb(180, 180, 180)\",\n    projection = list(type = 'Mercator'),\n    countrycolor = 'rgb(180, 180, 180)',\n    countrywidth = 0.5\n  )\n)\n\n# Create a subplot to show both maps side by side\ncombined_fig <- subplot(fig, fig2, nrows = 1, margin = 0.05)\n\n# Show the combined plot\ncombined_fig\n\n```\n\n### document\n\n                       \n<h1 style=\"font-size: 2.5em;\">VISUALISATION ANALYSIS</h1>\n\n<img src=\"project_visual1.png\" alt=\"Description of Image\" width=\"30%\">\n\n\nThe above visualization describes the Plug-in electric cars in use as a proportion of all passenger cars on the road in selected countries and regional markets by the end of 2023. The trend is the visualization that Northern European countries are well ahead in the assimilation curve in the adoption of PEVs, while other regions, notably China and the USA, have room for significant improvement.\nMore likely, government policies and infrastructure development have set up these trends. These countries would continue setting the pace for the transition of the world toward a decarbonized society by transitioning to electric vehicles.\n\nWhich is considered as bad graph\nThere are few flaws with the visualization in this image which includes:-\n\n- **Packed Labels**: \nThere are a lot of labels and text within the bars on this chart, like the percentages at top them. This will make the visualization cluttered and hard to read. The horizontal bar with flags in this chart is packed and therefore difficult to identify the countries in a split second.\n\n- **Double Headers**: \nThere are double titles in this chart: \"Top markets by PEV sales volume\" and \"Top markets by PEV market share.\" The chart does not clearly distinguish these two groups in the graph. Instead, it plots the two data together where it is not clear what each bar shows.\n\n- **The Graph Fails to Clearly Show the Categories**:\nThere is no distinct graphical difference between \"PEV sales volume\" and \"PEV market share.\" The chart tries to combine them without segmentation or explanation of the differences.\nThis can make viewers unsure whether the bars are of market share or volume.\n\n- **Inconsistent Bar Width**:\nBars appear to be of consistent width; however, there are flags and labels on each bar that, to some degree, visually distort it and make the true values ambiguous.\nSometimes, they are much larger than the bars themselves and not very clear.\n\n- **Labeling of Y-axis**:\nThe label on the y-axis, \"Percentage of plug-in passenger cars in use\", is a little ambiguous since this chart is looking at volume and market share. A little clearer labeling would add to the understanding.\n\n- **Information Overload**:\nThe chart tries to convey too much information at once without a clear visual or textual guide on how to interpret it. Simplification of content by focusing on one metric at a time will reduce cognitive overload: for example, either market share or sales volume.\n\n\nIt can be Redesigned as given below to give clearer insights:\n\n<img src=\"Tab2_design1.png\" alt=\"Description of Image\" width=\"40%\">\n\nIn the visualization redesign the y-label is splitted into two: Top Markets by PEV market share and Top Markets by PEV market volume with the countries national flag. Both the graphs are shown in the same window to be compared with each other respectively to their changes in the year December 2023.\nWhere the comparisions can be made easily with their respective shares.\n\nIt can be shown in another Redesigned way to get insights.\n\n\n<img src=\"Tab2_design2.png\" alt=\"Description of Image\" width=\"40%\">\n\nThis visualization map gives a good geographic visualization in comparing PEV volume and shares of different countries. The two metrics and labeling of the countries is done to make the comparison and more user-friendly by using a interactive visualization.PEV volume green colour is been represented and for market share blue colour is represented.\n\n\n\nYou can read more about plug-in electric vehicles in Norway on [Wikipedia](https://en.m.wikipedia.org/wiki/Plug-in_electric_vehicles_in_Norway).\n\n\n\n# Visual_Redesign3\n## row{.tabset}\n\n### Visual1\n#### row1\nOriginal Graph\n\n<img src=\"redesign3.png\" alt=\"Description of Image\" width=\"70%\">\n\n\n#### row2\nRedesigned Graph1\n\n```{r}\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# Example data\ndata <- data.frame(\n  Category = rep(c(\"Population\", \"Road Traffic Deaths\", \"Registered Vehicles\"), each = 3),\n  Group = rep(c(\"High Income\", \"Middle Income\", \"Low Income\"), times = 3),\n  Value = c(20, 60, 20, 10, 70, 20, 55, 30, 15)\n)\n\n# Create the stacked bar chart\nggplot(data, aes(x = Category, y = Value, fill = Group)) +\n  geom_bar(stat = \"identity\", position = \"fill\") +\n  scale_y_continuous(labels = scales::percent) +\n  labs(title = \"Global Comparison by Income Group\",\n       y = \"Proportion (%)\", x = \"Category\") +\n  scale_fill_manual(values = c(\"High Income\" = \"darkblue\", \"Middle Income\" = \"orange\", \"Low Income\" = \"red\")) +\n  theme_minimal()\n```\n\n\n\n\n### Visual2\n#### row1\n\nOriginal Graph\n\n<img src=\"redesign3.png\" alt=\"Description of Image\" width=\"70%\">\n\n\n#### row2\n\nRedesigned Graph2\n```{r}\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# Example data for vehicle ownership and road deaths by income group\ndata <- data.frame(\n  Group = c(\"High Income\", \"Middle Income\", \"Low Income\"),\n  Vehicles = c(50, 35, 15),\n  Deaths = c(10, 70, 90)\n)\n\n# Transform the data into long format for side-by-side bars\ndata_long <- data %>%\n  pivot_longer(cols = c(\"Vehicles\", \"Deaths\"), names_to = \"Category\", values_to = \"Percentage\")\n\n# Create the side-by-side bar plot\nggplot(data_long, aes(x = Group, y = Percentage, fill = Category)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Vehicle Ownership vs. Road Deaths by Income Group\",\n       y = \"Percentage (%)\", x = \"Income Group\") +\n  scale_fill_manual(values = c(\"Vehicles\" = \"darkblue\", \"Deaths\" = \"red\")) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\n```\n\n### DOCUMENT\n\n#### row1\n<h2 style=\"font-size: 2.5em;\">VISUALIZATION ANALYSIS</h2>\n\n<img src=\"redesign3.png\" alt=\"Description of Image\" width=\"50%\">\n\n\n<h5 style=\"font-size: 1.5em;\">Visualisation Analysis in Trends</h5>\n\nThe visualization shows that the global burden because of road traffic accidents consists of 1.2 million deaths each year and 50 million injured. The leading regions of road traffic deaths are Africa, the Americas, South-East Asia, and rather high figures in the Western Pacific, too. As many as 62% of fatalities take place in just 10 countries, headed by India, China, the U.S., Russia, and Brazil. Developing countries account for about 90% of road traffic deaths, while over half of the world's registered vehicles are owned by high-income countries. Poor-country death rates average about 21.5 per 100,000, with middle-income countries averaging 19.5 per 100,000, while the rate in high-income countries is the lowest, about 10.3 per 100,000. The infographic also focuses on the lack of road safety legislation: just 49% of countries have laws setting a maximum blood alcohol concentration limit, 57% have requirements on use of seatbelts, and only 40% have comprehensive helmet-wearing laws. Vulnerable road users include cyclists, pedestrians, and motorcyclists who account for 50% of those dying from traffic accidents.\n\n\n<h5 style=\"font-size: 1.5em;\">FLAWS IN DESIGN</h5>\nThere are several flaws in this visualization that makes it less effective. First, the very basis of comparing population and road traffic deaths with pie and donut charts is misleading, since values cannot be accurately compared, especially when they are very similar. These are better represented by bar charts for comparison. The map and charts overuse the orange color, which results in a lack of contrast that reduces clarity in categorization. This could be very bad for colorblind viewers. Some of the texts, especially in the law-related information, are too tiny to read comfortably. The layout is cluttered; there are so many elements competing in the creation of visual clutter, which is supposed to overwhelm the processing of information. The abuse in visual presentation-mixing maps, pie charts, and icons-all put together on this page-creates further confusion. The regions are not clear on the map; circles obscure them, and their sizes do not relate to the number of deaths that might mislead one's reasoning. It would have been infinitely better if there wasn't so much information on one infographic but rather divided into separate visuals: fatalities, vehicle ownership, and laws being just a few.\n\n\n\n<h5 style=\"font-size: 1.5em;\">NEED FOR REDESIGN</h5>\n\nThere is much information in this visualization that is important, yet the overuse of orange, pie charts, and crowding only detract from effectiveness. The redesign must focus on clarity, reducing cognitive load, enhancing color contrast, and presenting data in a manner that makes comparison and understanding easy.\n\nTHE REDESIGNED GRAPHS ARE:-\n\n\n<img src=\"redesign4.png\" alt=\"Description of Image\" width=\"50%\">\n\nThis redesigned visualization is a side-by-side bar chart comparing vehicle ownership and road traffic deaths across three-income groups: high-income, low-income, and middle-income countries. For each of the three income groups, there are two bars: one showing in blue the percentage of vehicles owned and another showing in red the percentage of road traffic deaths.These high-income countries, which have a huge share of global vehicle ownership, still accounted for relatively small rates of road-traffic deaths.While vehicle ownership is highly concentrated in a few countries, the share of deaths from traffic is disproportionately high in low-income countries. Middle income countries are at a middle point, with reasonable vehicle ownership yet still a high percentage of road traffic deaths.\n\n\n\n<img src=\"redesign6.png\" alt=\"Description of Image\" width=\"50%\">\n\n\n\n\nThis is a redesign of the above visualization, in which a stacked bar chart compares *high-, middle-, and low-income countries* across three categories: *Population, **Registered Vehicles, and **Road Traffic Deaths*. It gives the proportional share of the different income groups within such categories. The middle-income countries would represent the highest share of the global population, while high-income countries own the majority of the world's registered vehicles. However, a disproportionately high number of road traffic deaths are recorded in low- and middle-income countries. High-income countries enjoy better road safety, with fewer road traffic deaths compared to their population. This visualization clearly shows the big gap between vehicle ownership and fatalities from traffic, hence emphasizing that low- and middle-income countries bear the bulk of road traffic deaths when the number of vehicles owned is few.\n\n\n\nYou can read more about Road Accidents [Wikipedia](https://www.good.is/articles/how-cars-are-killing-us).\n\n\n\n\n\n# video\n\n## Watch this video\n\n{{< video https://www.youtube.com/watch?v=PeqBa36qXt0 >}}\n\n\n# code\n<h2 style=\"font-size: 2.5em;\">NEW_VISUALISATION1 FOR FITNESS PAL(DONUT_CHART)</h2>\n\n\nlibrary(ggplot2)\nlibrary(tidyverse)\n\n\nData for the donut chart\n\nmeal_summary <- data.frame(\n  Type = c(\"Breakfast\", \"Lunch\", \"Dinner\", \"Snacks\", \"Caloreies left\"),\n  Calories = c(1488, 704, 905, 303, 100)  # Total calories\n  #Percentage = c(43, 21, 27, 10)  # Percentages\n)\n\nmeal_summary <- meal_summary %>%\n  mutate(Percentage = round((Calories/3500)*100))\n  \n  \n<h5 style=\"font-size: 1.5em;\">Step 1: Calculate the midpoint of the labels</h5>\n\nmeal_summary <- meal_summary %>%\n  arrange(desc(Type)) %>%\n  mutate(ypos = cumsum(Percentage) - 0.5 * Percentage)\n\n\n<h5 style=\"font-size: 1.5em;\">Step 2: Create the donut chart</h5>\n\nggplot(meal_summary, aes(x = 2, y = Percentage, fill = Type)) +\n  geom_bar(stat = \"identity\", width = 1, color = \"white\") +\n  coord_polar(\"y\", start = 0) +  # Make it circular\n  xlim(0.5, 2.5) +  # Create a hole in the middle\n  geom_text(aes(y = ypos, label = paste0(Percentage, \"%\")), color = \"white\", size = 5) +  # Percentage labels\n  theme_void() +  # Remove background and axis\n  theme(legend.position = \"right\") +\n  scale_fill_brewer(palette = \"Set2\")  +\n  labs(title = \"Calories Distribution by Meal Type(NEW_VISUAL)\")\n  \n  \n\n<h2 style=\"font-size: 2.5em;\">NEW VISUALISATION2 FOR FITNESSPAL(STACKED_PLOT)</h2>  \n\n\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\nmeal_data <- data.frame(\n  Meal_name = c(\"Brown Bread\", \"Boiled eggs\", \"Egg whites\", \"Rice\", \"Curry\", \"Curd\", \"Chicken breast\", \"Rice\", \n                \"Curry\", \"Chicken breast\", \"Milk\", \"Whey protein\", \"Almonds\", \"Boiled Eggs\", \"Banana\", \"Oats\", \"Peanut butter\"),\n  Quantity = c(\"2\", \"2\", \"4\", \"2 cups\", \"1 bowl\", \"100 gms\", \"200 gms\", \"2.25 cups\", \"1 bowl\", \"75 gms\", \"10 oz\", \n               \"66 gms\", \"10 gms\", \"2\", \"1\", \"130 gms\", \"20 gms\"),\n  Calories = c(121, 143, 69, 400, 186, 61, 288, 450, 186, 108, 188, 124, 69, 143, 105, 502, 129),\n  Type = c(\"snack\", \"snack\", \"snack\", \"Dinner\", \"Dinner\", \"Dinner\", \"Dinner\", \"Lunch\", \"Lunch\", \"Lunch\", \n           \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\")\n)\n\n\n\n<h5 style=\"font-size: 1.5em;\">Step 1: Calculate the percentage of calories for each meal within each Type</h5> \n\nmeal_data <- meal_data %>%\n  group_by(Type) %>%\n  mutate(Percentage = Calories / sum(Calories) * 100)\n\ncustom_colors <- c(\"red\", \"blue\", \"green\", \"yellow\", \"purple\", \"orange\", \"pink\", \"brown\", \n                   \"cyan\", \"magenta\", \"grey\", \"darkgreen\", \"lightblue\", \"darkred\", \"lightgreen\")\n                   \n\n\n<h5 style=\"font-size: 1.5em;\">Step 2: Create the stacked bar plot with calories and percentage labels</h5> \n\n\nggplot(meal_data, aes(x = Type, y = Calories, fill = Meal_name)) +\n  geom_bar(stat = \"identity\") + \n  geom_text(aes(label = paste0(Calories, \" cal (\", round(Percentage, 1), \"%)\")),\n            position = position_stack(vjust = 0.5), size = 3) +  # Add calorie and percentage labels\n  labs(title = \"Calories and Percentage per Meal Type\",\n       x = \"Meal Type\", \n       y = \"Calories\") +\n  theme_minimal() +\n  scale_fill_manual(values = custom_colors)\n  \n  \n  \n<h2 style=\"font-size: 2.5em;\">NEW VISUALISATION1 FOR PEV VS MARKET SHARES(STACKED_PLOT)</h2>\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(gridExtra)\nlibrary(ggimage)\nlibrary(tidyverse)\n\n\n<h5 style=\"font-size: 1.5em;\">Visualization for figure 1: Data frame for market share</h5> \n\nmarket_data <- data.frame(\n  Country = c(\"Norway\", \"Iceland\", \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Market_Share = c(29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8),\n  Flag_URL = c('norway.png',\n               'iceland.png',\n               'sweden.png',\n               'denmark.png',\n               'netherlands.png',\n               'belgium.png',\n               'finland.png',\n               'swiss.png')\n)\n\n<h5 style=\"font-size: 1.5em;\">Horizontal bar chart for market share</h5> \n\nplot1=ggplot(market_data, aes(x = reorder(Country, Market_Share), y = Market_Share)) +\n  geom_bar(stat = \"identity\", fill = \"seagreen\") +\n  geom_image(aes(image = Flag_URL), size = 0.3) +  # Removed 'by' argument\n  labs(title = \"Top Markets by PEV Market Share (December 2023)\",\n       x = \"Country\", y = \"Percentage of Plug-in  Cars in Use\") +\n  theme_minimal()\n\n\n\nsales_data <- data.frame(\n  Country = c(\"USA\", \"World\", \"Europe\", \"France\", \"UK\", \"Germany\", \"China\"),\n  Sales_Volume = c(2.1, 3.2, 3.8, 4.1, 5.0, 5.4, 7.6),\n  Flag_URL1 = c('usa.png','world.png',\n                'europe.png','france.png',\n                'uk.png','germeny.png',\n                'china.png')\n)\n\n\n\n<h5 style=\"font-size: 1.5em;\">sales volume</h5> \n\nplot2=ggplot(sales_data, aes(x = reorder(Country, Sales_Volume), y = Sales_Volume)) +\n  geom_bar(stat = \"identity\", fill = \"lightblue\") +\n  geom_image(aes(image = Flag_URL1), size = 0.3) +\n  labs(title = \"Top Markets by PEV Sales Volume (December 2023)\",\n       x = \"Country\", y = \"Percentage of Plug-in Cars in Use\") +\n  theme_minimal()\n\n<h5 style=\"font-size: 1.5em;\">plot</h5> \n\ngrid.arrange(plot1, plot2, ncol = 1)\n\n\n<h2 style=\"font-size: 2.5em;\">NEW VISUALISATION2 FOR PEV VS MARKET SHARES(STACKED_PLOT)</h2>\n\nlibrary(plotly)\n\n<h5 style=\"font-size: 1.5em;\">Data for the PEV volume by country</h5>\n\npev_data <- data.frame(\n  Country = c(\"USA\", \"France\", \"UK\", \"Germany\", \"China\", \"Norway\", \"Iceland\", \n              \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Code = c(\"USA\", \"FRA\", \"GBR\", \"DEU\", \"CHN\", \"NOR\", \"ISL\", \n           \"SWE\", \"DNK\", \"NLD\", \"BEL\", \"FIN\", \"CHE\"),\n  PEV_Share = c(2.1, 4.1, 5.0, 5.4, 7.6, 29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8)\n)\n\n<h5 style=\"font-size: 1.5em;\">Create the choropleth map for PEV Share</h5>\n\nfig <- plot_ly(pev_data, \n               type = 'choropleth', \n               locations = ~Code, \n               z = ~PEV_Share, \n               text = ~paste(Country, \"<br>PEV Share:\", PEV_Share, \"%\"),\n               colorscale = 'Greens', \n               autocolorscale = FALSE, \n               reversescale = TRUE, \n               marker = list(line = list(color = 'rgb(180,180,180)', width = 0.5)),\n               colorbar = list(title = 'PEV Volume (%)'))\n\n\n<h5 style=\"font-size: 1.5em;\">Update the layout for the PEV map</h5>\n\nfig <- fig %>% layout(\n  title = 'PEV Volume by Country',\n  geo = list(\n    showframe = FALSE,\n    showcoastlines = TRUE,\n    showland = TRUE,\n    landcolor = \"rgb(217, 217, 217)\",\n    coastlinecolor = \"rgb(180, 180, 180)\",\n    projection = list(type = 'Mercator'),\n    countrycolor = 'rgb(180, 180, 180)',\n    countrywidth = 0.5\n  )\n)\n\n\n<h5 style=\"font-size: 1.5em;\">Data for the Market Share by country</h5>\n\nmarket_share <- data.frame(\n  Country = c(\"Norway\", \"Iceland\", \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Code = c(\"NOR\", \"ISL\", \"SWE\", \"DNK\", \"NLD\", \"BEL\", \"FIN\", \"CHE\"),\n  Market_Share = c(29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8)\n)\n\n<h5 style=\"font-size: 1.5em;\"> Create the choropleth map for Market Share</h5>\n\nfig2 <- plot_ly(market_share, \n                 type = 'choropleth', \n                 locations = ~Code, \n                 z = ~Market_Share, \n                 text = ~paste(Country, \"<br>Market Share:\", Market_Share, \"%\"),\n                 colorscale = 'Blues',\n                 autocolorscale = FALSE, \n                 reversescale = TRUE, \n                 marker = list(line = list(color = 'rgb(180,180,180)', width = 0.5)),\n                 colorbar = list(title = 'Market Share (%)'))\n\n\n<h5 style=\"font-size: 1.5em;\"> Update the layout for the Market Share map</h5>\n\nfig2 <- fig2 %>% layout(\n  title = 'Market Share by Country',\n  geo = list(\n    showframe = FALSE,\n    showcoastlines = TRUE,\n    showland = TRUE,\n    landcolor = \"rgb(217, 217, 217)\",\n    coastlinecolor = \"rgb(180, 180, 180)\",\n    projection = list(type = 'Mercator'),\n    countrycolor = 'rgb(180, 180, 180)',\n    countrywidth = 0.5\n  )\n)\n\n\n<h5 style=\"font-size: 1.5em;\">  Create a subplot to show both maps side by side</h5>\n\ncombined_fig <- subplot(fig, fig2, nrows = 1, margin = 0.05)\n\n\n<h5 style=\"font-size: 1.5em;\">Show the combined plot</h5>\n\ncombined_fig\n\n\n\n<h2 style=\"font-size: 2.5em;\">showing global comparsion of deaths by income group(STACKED BAR)</h2>\n\nlibrary(ggplot2)\n\nlibrary(dplyr)\n\n\n<h5 style=\"font-size: 1.5em;\">Example data</h5>\ndata <- data.frame(\n  Category = rep(c(\"Population\", \"Road Traffic Deaths\", \"Registered Vehicles\"), each = 3),\n  Group = rep(c(\"High Income\", \"Middle Income\", \"Low Income\"), times = 3),\n  Value = c(20, 60, 20, 10, 70, 20, 55, 30, 15)\n)\n\n\n<h5 style=\"font-size: 1.5em;\">Create the stacked bar chart</h5>\nggplot(data, aes(x = Category, y = Value, fill = Group)) +\n  geom_bar(stat = \"identity\", position = \"fill\") +\n  scale_y_continuous(labels = scales::percent) +\n  labs(title = \"Global Comparison by Income Group\",\n       y = \"Proportion (%)\", x = \"Category\") +\n  scale_fill_manual(values = c(\"High Income\" = \"darkblue\", \"Middle Income\" = \"orange\", \"Low Income\" = \"red\")) +\n  theme_minimal()\n\n\n\n\n\n<h2 style=\"font-size: 2.5em;\">VEHICLE OWNERSHIP TO ROAD DEATHS BY INCOME GROUP(BAR_GRAPH)</h2>\n\nlibrary(ggplot2)\n\nlibrary(tidyr)\n\n\n<h5 style=\"font-size: 1.5em;\">Example data for vehicle ownership and road deaths by income group</h5>\ndata <- data.frame(\n  Group = c(\"High Income\", \"Middle Income\", \"Low Income\"),\n  Vehicles = c(50, 35, 15),\n  Deaths = c(10, 70, 90)\n)\n\n\n<h5 style=\"font-size: 1.5em;\"> Transform the data into long format for side-by-side bars</h5>\ndata_long <- data %>%\n  pivot_longer(cols = c(\"Vehicles\", \"Deaths\"), names_to = \"Category\", values_to = \"Percentage\")\n\n\n<h5 style=\"font-size: 1.5em;\"> Create the side-by-side bar plot</h5>\nggplot(data_long, aes(x = Group, y = Percentage, fill = Category)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Vehicle Ownership vs. Road Deaths by Income Group\",\n       y = \"Percentage (%)\", x = \"Income Group\") +\n  scale_fill_manual(values = c(\"Vehicles\" = \"darkblue\", \"Deaths\" = \"red\")) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\n\n\n\n\n  \n\n\n","srcMarkdownNoYaml":"\n\n# visual_Redesign1\n\n## row{.tabset}\n\n### Visual1\n#### row1\nORIGINAL VISUALISATION\n\n<img src=\"project_tab1.png\" alt=\"Description of Image\" width=\"50%\">\n\n#### row2\n\nVISUALISATION REDESIGN 1\n```{r}\n#NEW_GRAPH\nlibrary(ggplot2)\nlibrary(tidyverse)\n\n\n# Data for the donut chart\nmeal_summary <- data.frame(\n  Type = c(\"Breakfast\", \"Lunch\", \"Dinner\", \"Snacks\", \"Caloreies left\"),\n  Calories = c(1488, 704, 905, 303, 100)  # Total calories\n  #Percentage = c(43, 21, 27, 10)  # Percentages\n)\n\nmeal_summary <- meal_summary %>%\n  mutate(Percentage = round((Calories/3500)*100))\n\n# Step 1: Calculate the midpoint of the labels\nmeal_summary <- meal_summary %>%\n  arrange(desc(Type)) %>%\n  mutate(ypos = cumsum(Percentage) - 0.5 * Percentage)\n\n# Step 2: Create the donut chart\nggplot(meal_summary, aes(x = 2, y = Percentage, fill = Type)) +\n  geom_bar(stat = \"identity\", width = 1, color = \"white\") +\n  coord_polar(\"y\", start = 0) +  # Make it circular\n  xlim(0.5, 2.5) +  # Create a hole in the middle\n  geom_text(aes(y = ypos, label = paste0(Percentage, \"%\")), color = \"white\", size = 5) +  # Percentage labels\n  theme_void() +  # Remove background and axis\n  theme(legend.position = \"right\") +\n  scale_fill_brewer(palette = \"Set2\")  +\n  labs(title = \"Calories Distribution by Meal Type(NEW_VISUAL)\")\n\n```\n\n\n### Visual2\n#### row1\nORIGINAL VISUALIZATION  \n\n<img src=\"project_tab1.png\" alt=\"Description of Image\" width=\"50%\">\n\n#### row2\n\nVISUALIZATION REDESIGN 2\n```{r}\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\nmeal_data <- data.frame(\n  Meal_name = c(\"Brown Bread\", \"Boiled eggs\", \"Egg whites\", \"Rice\", \"Curry\", \"Curd\", \"Chicken breast\", \"Rice\", \n                \"Curry\", \"Chicken breast\", \"Milk\", \"Whey protein\", \"Almonds\", \"Boiled Eggs\", \"Banana\", \"Oats\", \"Peanut butter\"),\n  Quantity = c(\"2\", \"2\", \"4\", \"2 cups\", \"1 bowl\", \"100 gms\", \"200 gms\", \"2.25 cups\", \"1 bowl\", \"75 gms\", \"10 oz\", \n               \"66 gms\", \"10 gms\", \"2\", \"1\", \"130 gms\", \"20 gms\"),\n  Calories = c(121, 143, 69, 400, 186, 61, 288, 450, 186, 108, 188, 124, 69, 143, 105, 502, 129),\n  Type = c(\"snack\", \"snack\", \"snack\", \"Dinner\", \"Dinner\", \"Dinner\", \"Dinner\", \"Lunch\", \"Lunch\", \"Lunch\", \n           \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\")\n)\n\n\n# Step 1: Calculate the percentage of calories for each meal within each Type\nmeal_data <- meal_data %>%\n  group_by(Type) %>%\n  mutate(Percentage = Calories / sum(Calories) * 100)\n\ncustom_colors <- c(\"red\", \"blue\", \"green\", \"yellow\", \"purple\", \"orange\", \"pink\", \"brown\", \n                   \"cyan\", \"magenta\", \"grey\", \"darkgreen\", \"lightblue\", \"darkred\", \"lightgreen\")\n# Step 2: Create the stacked bar plot with calories and percentage labels\nggplot(meal_data, aes(x = Type, y = Calories, fill = Meal_name)) +\n  geom_bar(stat = \"identity\") + \n  geom_text(aes(label = paste0(Calories, \" cal (\", round(Percentage, 1), \"%)\")),\n            position = position_stack(vjust = 0.5), size = 3) +  # Add calorie and percentage labels\n  labs(title = \"Calories and Percentage per Meal Type\",\n       x = \"Meal Type\", \n       y = \"Calories\") +\n  theme_minimal() +\n  scale_fill_manual(values = custom_colors)\n```\n\n\n### document\n<h1 style=\"font-size: 2.5em;\">VISUALISATION ANALYSIS</h1>\n\n<img src=\"project_tab1.png\" alt=\"Description of Image\" width=\"20%\" class='centre'>\n\nThe pie chart below represents the calorie distribution across meals for a day.\n\nThe pie chart graph from MyFitnessPal shows meal breakdowns throughout the day, including the number of calories taken in Breakfast, Lunch, Dinner, and Snacks. The actual chart is labeled with the percentage of total calories each meal comprises. Specific calorie counts along with the percentage that each meal comprises are contained in a color-coded legend below the actual chart. The colored segments identify the types of meals easily, and thus their matched labels in the legend make interpretation very straightforward.\nThe labels for each slice in the pie chart are clear, giving both the percentage and the actual calorie count for each meal, the pie chart, key metrics are included such as Total Calories, Net Calories, and Goal, but does not mention how many more calories left to complete the goal. Although the total calories, net calories and the goal are shown below the chart, there is a complete lack of any visual indication whether the user has reached their goal. \n\nHowever, it has several design flaws as it is considered as bad graph\n\n- **Color Scheme**: The colors are too similar, making it hard to distinguish between categories.\n- **Labeling**: Percentages are shown inside the pie chart, but without meal names. It's unclear what each section represents without constantly referring to the legend.\n- **Graph Type**: A pie chart is not the best choice for comparing meal categories because differences are hard to perceive.\n- **Text Readability**: The labels are small and difficult to read, especially on mobile devices.\n\n\n\n\nfrom the above visualisation we gathered some data and made improved visualisations:\n\n<img src=\"fitness.png\" alt=\"Description of Image\" width=\"40%\" class='centre'>\n\n\n\nIt can be redesigned in certain ways to gather insights.\n\n\n<img src=\"bar_plot.png\" alt=\"Description of Image\" width=\"40%\" class='centre'>\n\nThe above visualization redesign gives you the clear representation meal names with calorie count is represented for every meal type using stacked plot.With every meal name taken along with percentage and calorie.\n\n<img src=\"donut_chart.png\" alt=\"Description of Image\" width=\"20%\" class='centre'>\n\nThe second redesign show the improved version of pie chart that is donut plot. Unlike the pie chart the donut plot describes the total calories left to have to complete the daily task. which is not shown in the original graph.\n\n\n\nYou can read more about fitnesspal\n[Wikipedia](https://www.myfitnesspal.com/).\n\n\n\n\n\n\n\n# visual_Redesign2\n## ROW{.tabset}\n### Visual1\n#### row1\n\nORIGINAL VISUALIZATION \n\n<img src=\"project_visual1.png\" alt=\"Description of Image\" width=\"80%\">\n\n#### row2\n\nVISUALIZATION REDESIGN 1\n```{r}\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(gridExtra)\nlibrary(ggimage)\nlibrary(tidyverse)\n\n\n# Visualization for figure 1: Data frame for market share\nmarket_data <- data.frame(\n  Country = c(\"Norway\", \"Iceland\", \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Market_Share = c(29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8),\n  Flag_URL = c('norway.png',\n               'iceland.png',\n               'sweden.png',\n               'denmark.png',\n               'netherlands.png',\n               'belgium.png',\n               'finland.png',\n               'swiss.png')\n)\n\n# Horizontal bar chart for market share\nplot1=ggplot(market_data, aes(x = reorder(Country, Market_Share), y = Market_Share)) +\n  geom_bar(stat = \"identity\", fill = \"seagreen\") +\n  geom_image(aes(image = Flag_URL), size = 0.3) +  # Removed 'by' argument\n  labs(title = \"Top Markets by PEV Market Share (December 2023)\",\n       x = \"Country\", y = \"Percentage of Plug-in  Cars in Use\") +\n  theme_minimal()\n\n\n\nsales_data <- data.frame(\n  Country = c(\"USA\", \"World\", \"Europe\", \"France\", \"UK\", \"Germany\", \"China\"),\n  Sales_Volume = c(2.1, 3.2, 3.8, 4.1, 5.0, 5.4, 7.6),\n  Flag_URL1 = c('usa.png','world.png',\n                'europe.png','france.png',\n                'uk.png','germeny.png',\n                'china.png')\n)\n\n#sales volume\nplot2=ggplot(sales_data, aes(x = reorder(Country, Sales_Volume), y = Sales_Volume)) +\n  geom_bar(stat = \"identity\", fill = \"lightblue\") +\n  geom_image(aes(image = Flag_URL1), size = 0.3) +\n  labs(title = \"Top Markets by PEV Sales Volume (December 2023)\",\n       x = \"Country\", y = \"Percentage of Plug-in Cars in Use\") +\n  theme_minimal()\n\n#plot\ngrid.arrange(plot1, plot2, ncol = 1)\n```\n\n\n### Visual2\n#### row1\nORIGIANL VISUALIZATION\n\n<img src=\"project_visual1.png\" alt=\"Description of Image\" width=\"80%\">\n\n#### row2\n\nVISUALIZATION REDESIGN 2\n```{r}\n\nlibrary(plotly)\n\n# Data for the PEV volume by country\npev_data <- data.frame(\n  Country = c(\"USA\", \"France\", \"UK\", \"Germany\", \"China\", \"Norway\", \"Iceland\", \n              \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Code = c(\"USA\", \"FRA\", \"GBR\", \"DEU\", \"CHN\", \"NOR\", \"ISL\", \n           \"SWE\", \"DNK\", \"NLD\", \"BEL\", \"FIN\", \"CHE\"),\n  PEV_Share = c(2.1, 4.1, 5.0, 5.4, 7.6, 29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8)\n)\n\n# Create the choropleth map for PEV Share\nfig <- plot_ly(pev_data, \n               type = 'choropleth', \n               locations = ~Code, \n               z = ~PEV_Share, \n               text = ~paste(Country, \"<br>PEV Share:\", PEV_Share, \"%\"),\n               colorscale = 'Greens', \n               autocolorscale = FALSE, \n               reversescale = TRUE, \n               marker = list(line = list(color = 'rgb(180,180,180)', width = 0.5)),\n               colorbar = list(title = 'PEV Volume (%)'))\n\n# Update the layout for the PEV map\nfig <- fig %>% layout(\n  title = 'PEV Volume by Country',\n  geo = list(\n    showframe = FALSE,\n    showcoastlines = TRUE,\n    showland = TRUE,\n    landcolor = \"rgb(217, 217, 217)\",\n    coastlinecolor = \"rgb(180, 180, 180)\",\n    projection = list(type = 'Mercator'),\n    countrycolor = 'rgb(180, 180, 180)',\n    countrywidth = 0.5\n  )\n)\n\n# Data for the Market Share by country\nmarket_share <- data.frame(\n  Country = c(\"Norway\", \"Iceland\", \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Code = c(\"NOR\", \"ISL\", \"SWE\", \"DNK\", \"NLD\", \"BEL\", \"FIN\", \"CHE\"),\n  Market_Share = c(29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8)\n)\n\n# Create the choropleth map for Market Share\nfig2 <- plot_ly(market_share, \n                 type = 'choropleth', \n                 locations = ~Code, \n                 z = ~Market_Share, \n                 text = ~paste(Country, \"<br>Market Share:\", Market_Share, \"%\"),\n                 colorscale = 'Blues',\n                 autocolorscale = FALSE, \n                 reversescale = TRUE, \n                 marker = list(line = list(color = 'rgb(180,180,180)', width = 0.5)),\n                 colorbar = list(title = 'Market Share (%)'))\n\n# Update the layout for the Market Share map\nfig2 <- fig2 %>% layout(\n  title = 'Market Share by Country',\n  geo = list(\n    showframe = FALSE,\n    showcoastlines = TRUE,\n    showland = TRUE,\n    landcolor = \"rgb(217, 217, 217)\",\n    coastlinecolor = \"rgb(180, 180, 180)\",\n    projection = list(type = 'Mercator'),\n    countrycolor = 'rgb(180, 180, 180)',\n    countrywidth = 0.5\n  )\n)\n\n# Create a subplot to show both maps side by side\ncombined_fig <- subplot(fig, fig2, nrows = 1, margin = 0.05)\n\n# Show the combined plot\ncombined_fig\n\n```\n\n### document\n\n                       \n<h1 style=\"font-size: 2.5em;\">VISUALISATION ANALYSIS</h1>\n\n<img src=\"project_visual1.png\" alt=\"Description of Image\" width=\"30%\">\n\n\nThe above visualization describes the Plug-in electric cars in use as a proportion of all passenger cars on the road in selected countries and regional markets by the end of 2023. The trend is the visualization that Northern European countries are well ahead in the assimilation curve in the adoption of PEVs, while other regions, notably China and the USA, have room for significant improvement.\nMore likely, government policies and infrastructure development have set up these trends. These countries would continue setting the pace for the transition of the world toward a decarbonized society by transitioning to electric vehicles.\n\nWhich is considered as bad graph\nThere are few flaws with the visualization in this image which includes:-\n\n- **Packed Labels**: \nThere are a lot of labels and text within the bars on this chart, like the percentages at top them. This will make the visualization cluttered and hard to read. The horizontal bar with flags in this chart is packed and therefore difficult to identify the countries in a split second.\n\n- **Double Headers**: \nThere are double titles in this chart: \"Top markets by PEV sales volume\" and \"Top markets by PEV market share.\" The chart does not clearly distinguish these two groups in the graph. Instead, it plots the two data together where it is not clear what each bar shows.\n\n- **The Graph Fails to Clearly Show the Categories**:\nThere is no distinct graphical difference between \"PEV sales volume\" and \"PEV market share.\" The chart tries to combine them without segmentation or explanation of the differences.\nThis can make viewers unsure whether the bars are of market share or volume.\n\n- **Inconsistent Bar Width**:\nBars appear to be of consistent width; however, there are flags and labels on each bar that, to some degree, visually distort it and make the true values ambiguous.\nSometimes, they are much larger than the bars themselves and not very clear.\n\n- **Labeling of Y-axis**:\nThe label on the y-axis, \"Percentage of plug-in passenger cars in use\", is a little ambiguous since this chart is looking at volume and market share. A little clearer labeling would add to the understanding.\n\n- **Information Overload**:\nThe chart tries to convey too much information at once without a clear visual or textual guide on how to interpret it. Simplification of content by focusing on one metric at a time will reduce cognitive overload: for example, either market share or sales volume.\n\n\nIt can be Redesigned as given below to give clearer insights:\n\n<img src=\"Tab2_design1.png\" alt=\"Description of Image\" width=\"40%\">\n\nIn the visualization redesign the y-label is splitted into two: Top Markets by PEV market share and Top Markets by PEV market volume with the countries national flag. Both the graphs are shown in the same window to be compared with each other respectively to their changes in the year December 2023.\nWhere the comparisions can be made easily with their respective shares.\n\nIt can be shown in another Redesigned way to get insights.\n\n\n<img src=\"Tab2_design2.png\" alt=\"Description of Image\" width=\"40%\">\n\nThis visualization map gives a good geographic visualization in comparing PEV volume and shares of different countries. The two metrics and labeling of the countries is done to make the comparison and more user-friendly by using a interactive visualization.PEV volume green colour is been represented and for market share blue colour is represented.\n\n\n\nYou can read more about plug-in electric vehicles in Norway on [Wikipedia](https://en.m.wikipedia.org/wiki/Plug-in_electric_vehicles_in_Norway).\n\n\n\n# Visual_Redesign3\n## row{.tabset}\n\n### Visual1\n#### row1\nOriginal Graph\n\n<img src=\"redesign3.png\" alt=\"Description of Image\" width=\"70%\">\n\n\n#### row2\nRedesigned Graph1\n\n```{r}\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# Example data\ndata <- data.frame(\n  Category = rep(c(\"Population\", \"Road Traffic Deaths\", \"Registered Vehicles\"), each = 3),\n  Group = rep(c(\"High Income\", \"Middle Income\", \"Low Income\"), times = 3),\n  Value = c(20, 60, 20, 10, 70, 20, 55, 30, 15)\n)\n\n# Create the stacked bar chart\nggplot(data, aes(x = Category, y = Value, fill = Group)) +\n  geom_bar(stat = \"identity\", position = \"fill\") +\n  scale_y_continuous(labels = scales::percent) +\n  labs(title = \"Global Comparison by Income Group\",\n       y = \"Proportion (%)\", x = \"Category\") +\n  scale_fill_manual(values = c(\"High Income\" = \"darkblue\", \"Middle Income\" = \"orange\", \"Low Income\" = \"red\")) +\n  theme_minimal()\n```\n\n\n\n\n### Visual2\n#### row1\n\nOriginal Graph\n\n<img src=\"redesign3.png\" alt=\"Description of Image\" width=\"70%\">\n\n\n#### row2\n\nRedesigned Graph2\n```{r}\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# Example data for vehicle ownership and road deaths by income group\ndata <- data.frame(\n  Group = c(\"High Income\", \"Middle Income\", \"Low Income\"),\n  Vehicles = c(50, 35, 15),\n  Deaths = c(10, 70, 90)\n)\n\n# Transform the data into long format for side-by-side bars\ndata_long <- data %>%\n  pivot_longer(cols = c(\"Vehicles\", \"Deaths\"), names_to = \"Category\", values_to = \"Percentage\")\n\n# Create the side-by-side bar plot\nggplot(data_long, aes(x = Group, y = Percentage, fill = Category)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Vehicle Ownership vs. Road Deaths by Income Group\",\n       y = \"Percentage (%)\", x = \"Income Group\") +\n  scale_fill_manual(values = c(\"Vehicles\" = \"darkblue\", \"Deaths\" = \"red\")) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\n```\n\n### DOCUMENT\n\n#### row1\n<h2 style=\"font-size: 2.5em;\">VISUALIZATION ANALYSIS</h2>\n\n<img src=\"redesign3.png\" alt=\"Description of Image\" width=\"50%\">\n\n\n<h5 style=\"font-size: 1.5em;\">Visualisation Analysis in Trends</h5>\n\nThe visualization shows that the global burden because of road traffic accidents consists of 1.2 million deaths each year and 50 million injured. The leading regions of road traffic deaths are Africa, the Americas, South-East Asia, and rather high figures in the Western Pacific, too. As many as 62% of fatalities take place in just 10 countries, headed by India, China, the U.S., Russia, and Brazil. Developing countries account for about 90% of road traffic deaths, while over half of the world's registered vehicles are owned by high-income countries. Poor-country death rates average about 21.5 per 100,000, with middle-income countries averaging 19.5 per 100,000, while the rate in high-income countries is the lowest, about 10.3 per 100,000. The infographic also focuses on the lack of road safety legislation: just 49% of countries have laws setting a maximum blood alcohol concentration limit, 57% have requirements on use of seatbelts, and only 40% have comprehensive helmet-wearing laws. Vulnerable road users include cyclists, pedestrians, and motorcyclists who account for 50% of those dying from traffic accidents.\n\n\n<h5 style=\"font-size: 1.5em;\">FLAWS IN DESIGN</h5>\nThere are several flaws in this visualization that makes it less effective. First, the very basis of comparing population and road traffic deaths with pie and donut charts is misleading, since values cannot be accurately compared, especially when they are very similar. These are better represented by bar charts for comparison. The map and charts overuse the orange color, which results in a lack of contrast that reduces clarity in categorization. This could be very bad for colorblind viewers. Some of the texts, especially in the law-related information, are too tiny to read comfortably. The layout is cluttered; there are so many elements competing in the creation of visual clutter, which is supposed to overwhelm the processing of information. The abuse in visual presentation-mixing maps, pie charts, and icons-all put together on this page-creates further confusion. The regions are not clear on the map; circles obscure them, and their sizes do not relate to the number of deaths that might mislead one's reasoning. It would have been infinitely better if there wasn't so much information on one infographic but rather divided into separate visuals: fatalities, vehicle ownership, and laws being just a few.\n\n\n\n<h5 style=\"font-size: 1.5em;\">NEED FOR REDESIGN</h5>\n\nThere is much information in this visualization that is important, yet the overuse of orange, pie charts, and crowding only detract from effectiveness. The redesign must focus on clarity, reducing cognitive load, enhancing color contrast, and presenting data in a manner that makes comparison and understanding easy.\n\nTHE REDESIGNED GRAPHS ARE:-\n\n\n<img src=\"redesign4.png\" alt=\"Description of Image\" width=\"50%\">\n\nThis redesigned visualization is a side-by-side bar chart comparing vehicle ownership and road traffic deaths across three-income groups: high-income, low-income, and middle-income countries. For each of the three income groups, there are two bars: one showing in blue the percentage of vehicles owned and another showing in red the percentage of road traffic deaths.These high-income countries, which have a huge share of global vehicle ownership, still accounted for relatively small rates of road-traffic deaths.While vehicle ownership is highly concentrated in a few countries, the share of deaths from traffic is disproportionately high in low-income countries. Middle income countries are at a middle point, with reasonable vehicle ownership yet still a high percentage of road traffic deaths.\n\n\n\n<img src=\"redesign6.png\" alt=\"Description of Image\" width=\"50%\">\n\n\n\n\nThis is a redesign of the above visualization, in which a stacked bar chart compares *high-, middle-, and low-income countries* across three categories: *Population, **Registered Vehicles, and **Road Traffic Deaths*. It gives the proportional share of the different income groups within such categories. The middle-income countries would represent the highest share of the global population, while high-income countries own the majority of the world's registered vehicles. However, a disproportionately high number of road traffic deaths are recorded in low- and middle-income countries. High-income countries enjoy better road safety, with fewer road traffic deaths compared to their population. This visualization clearly shows the big gap between vehicle ownership and fatalities from traffic, hence emphasizing that low- and middle-income countries bear the bulk of road traffic deaths when the number of vehicles owned is few.\n\n\n\nYou can read more about Road Accidents [Wikipedia](https://www.good.is/articles/how-cars-are-killing-us).\n\n\n\n\n\n# video\n\n## Watch this video\n\n{{< video https://www.youtube.com/watch?v=PeqBa36qXt0 >}}\n\n\n# code\n<h2 style=\"font-size: 2.5em;\">NEW_VISUALISATION1 FOR FITNESS PAL(DONUT_CHART)</h2>\n\n\nlibrary(ggplot2)\nlibrary(tidyverse)\n\n\nData for the donut chart\n\nmeal_summary <- data.frame(\n  Type = c(\"Breakfast\", \"Lunch\", \"Dinner\", \"Snacks\", \"Caloreies left\"),\n  Calories = c(1488, 704, 905, 303, 100)  # Total calories\n  #Percentage = c(43, 21, 27, 10)  # Percentages\n)\n\nmeal_summary <- meal_summary %>%\n  mutate(Percentage = round((Calories/3500)*100))\n  \n  \n<h5 style=\"font-size: 1.5em;\">Step 1: Calculate the midpoint of the labels</h5>\n\nmeal_summary <- meal_summary %>%\n  arrange(desc(Type)) %>%\n  mutate(ypos = cumsum(Percentage) - 0.5 * Percentage)\n\n\n<h5 style=\"font-size: 1.5em;\">Step 2: Create the donut chart</h5>\n\nggplot(meal_summary, aes(x = 2, y = Percentage, fill = Type)) +\n  geom_bar(stat = \"identity\", width = 1, color = \"white\") +\n  coord_polar(\"y\", start = 0) +  # Make it circular\n  xlim(0.5, 2.5) +  # Create a hole in the middle\n  geom_text(aes(y = ypos, label = paste0(Percentage, \"%\")), color = \"white\", size = 5) +  # Percentage labels\n  theme_void() +  # Remove background and axis\n  theme(legend.position = \"right\") +\n  scale_fill_brewer(palette = \"Set2\")  +\n  labs(title = \"Calories Distribution by Meal Type(NEW_VISUAL)\")\n  \n  \n\n<h2 style=\"font-size: 2.5em;\">NEW VISUALISATION2 FOR FITNESSPAL(STACKED_PLOT)</h2>  \n\n\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\nmeal_data <- data.frame(\n  Meal_name = c(\"Brown Bread\", \"Boiled eggs\", \"Egg whites\", \"Rice\", \"Curry\", \"Curd\", \"Chicken breast\", \"Rice\", \n                \"Curry\", \"Chicken breast\", \"Milk\", \"Whey protein\", \"Almonds\", \"Boiled Eggs\", \"Banana\", \"Oats\", \"Peanut butter\"),\n  Quantity = c(\"2\", \"2\", \"4\", \"2 cups\", \"1 bowl\", \"100 gms\", \"200 gms\", \"2.25 cups\", \"1 bowl\", \"75 gms\", \"10 oz\", \n               \"66 gms\", \"10 gms\", \"2\", \"1\", \"130 gms\", \"20 gms\"),\n  Calories = c(121, 143, 69, 400, 186, 61, 288, 450, 186, 108, 188, 124, 69, 143, 105, 502, 129),\n  Type = c(\"snack\", \"snack\", \"snack\", \"Dinner\", \"Dinner\", \"Dinner\", \"Dinner\", \"Lunch\", \"Lunch\", \"Lunch\", \n           \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\", \"Breakfast\")\n)\n\n\n\n<h5 style=\"font-size: 1.5em;\">Step 1: Calculate the percentage of calories for each meal within each Type</h5> \n\nmeal_data <- meal_data %>%\n  group_by(Type) %>%\n  mutate(Percentage = Calories / sum(Calories) * 100)\n\ncustom_colors <- c(\"red\", \"blue\", \"green\", \"yellow\", \"purple\", \"orange\", \"pink\", \"brown\", \n                   \"cyan\", \"magenta\", \"grey\", \"darkgreen\", \"lightblue\", \"darkred\", \"lightgreen\")\n                   \n\n\n<h5 style=\"font-size: 1.5em;\">Step 2: Create the stacked bar plot with calories and percentage labels</h5> \n\n\nggplot(meal_data, aes(x = Type, y = Calories, fill = Meal_name)) +\n  geom_bar(stat = \"identity\") + \n  geom_text(aes(label = paste0(Calories, \" cal (\", round(Percentage, 1), \"%)\")),\n            position = position_stack(vjust = 0.5), size = 3) +  # Add calorie and percentage labels\n  labs(title = \"Calories and Percentage per Meal Type\",\n       x = \"Meal Type\", \n       y = \"Calories\") +\n  theme_minimal() +\n  scale_fill_manual(values = custom_colors)\n  \n  \n  \n<h2 style=\"font-size: 2.5em;\">NEW VISUALISATION1 FOR PEV VS MARKET SHARES(STACKED_PLOT)</h2>\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(gridExtra)\nlibrary(ggimage)\nlibrary(tidyverse)\n\n\n<h5 style=\"font-size: 1.5em;\">Visualization for figure 1: Data frame for market share</h5> \n\nmarket_data <- data.frame(\n  Country = c(\"Norway\", \"Iceland\", \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Market_Share = c(29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8),\n  Flag_URL = c('norway.png',\n               'iceland.png',\n               'sweden.png',\n               'denmark.png',\n               'netherlands.png',\n               'belgium.png',\n               'finland.png',\n               'swiss.png')\n)\n\n<h5 style=\"font-size: 1.5em;\">Horizontal bar chart for market share</h5> \n\nplot1=ggplot(market_data, aes(x = reorder(Country, Market_Share), y = Market_Share)) +\n  geom_bar(stat = \"identity\", fill = \"seagreen\") +\n  geom_image(aes(image = Flag_URL), size = 0.3) +  # Removed 'by' argument\n  labs(title = \"Top Markets by PEV Market Share (December 2023)\",\n       x = \"Country\", y = \"Percentage of Plug-in  Cars in Use\") +\n  theme_minimal()\n\n\n\nsales_data <- data.frame(\n  Country = c(\"USA\", \"World\", \"Europe\", \"France\", \"UK\", \"Germany\", \"China\"),\n  Sales_Volume = c(2.1, 3.2, 3.8, 4.1, 5.0, 5.4, 7.6),\n  Flag_URL1 = c('usa.png','world.png',\n                'europe.png','france.png',\n                'uk.png','germeny.png',\n                'china.png')\n)\n\n\n\n<h5 style=\"font-size: 1.5em;\">sales volume</h5> \n\nplot2=ggplot(sales_data, aes(x = reorder(Country, Sales_Volume), y = Sales_Volume)) +\n  geom_bar(stat = \"identity\", fill = \"lightblue\") +\n  geom_image(aes(image = Flag_URL1), size = 0.3) +\n  labs(title = \"Top Markets by PEV Sales Volume (December 2023)\",\n       x = \"Country\", y = \"Percentage of Plug-in Cars in Use\") +\n  theme_minimal()\n\n<h5 style=\"font-size: 1.5em;\">plot</h5> \n\ngrid.arrange(plot1, plot2, ncol = 1)\n\n\n<h2 style=\"font-size: 2.5em;\">NEW VISUALISATION2 FOR PEV VS MARKET SHARES(STACKED_PLOT)</h2>\n\nlibrary(plotly)\n\n<h5 style=\"font-size: 1.5em;\">Data for the PEV volume by country</h5>\n\npev_data <- data.frame(\n  Country = c(\"USA\", \"France\", \"UK\", \"Germany\", \"China\", \"Norway\", \"Iceland\", \n              \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Code = c(\"USA\", \"FRA\", \"GBR\", \"DEU\", \"CHN\", \"NOR\", \"ISL\", \n           \"SWE\", \"DNK\", \"NLD\", \"BEL\", \"FIN\", \"CHE\"),\n  PEV_Share = c(2.1, 4.1, 5.0, 5.4, 7.6, 29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8)\n)\n\n<h5 style=\"font-size: 1.5em;\">Create the choropleth map for PEV Share</h5>\n\nfig <- plot_ly(pev_data, \n               type = 'choropleth', \n               locations = ~Code, \n               z = ~PEV_Share, \n               text = ~paste(Country, \"<br>PEV Share:\", PEV_Share, \"%\"),\n               colorscale = 'Greens', \n               autocolorscale = FALSE, \n               reversescale = TRUE, \n               marker = list(line = list(color = 'rgb(180,180,180)', width = 0.5)),\n               colorbar = list(title = 'PEV Volume (%)'))\n\n\n<h5 style=\"font-size: 1.5em;\">Update the layout for the PEV map</h5>\n\nfig <- fig %>% layout(\n  title = 'PEV Volume by Country',\n  geo = list(\n    showframe = FALSE,\n    showcoastlines = TRUE,\n    showland = TRUE,\n    landcolor = \"rgb(217, 217, 217)\",\n    coastlinecolor = \"rgb(180, 180, 180)\",\n    projection = list(type = 'Mercator'),\n    countrycolor = 'rgb(180, 180, 180)',\n    countrywidth = 0.5\n  )\n)\n\n\n<h5 style=\"font-size: 1.5em;\">Data for the Market Share by country</h5>\n\nmarket_share <- data.frame(\n  Country = c(\"Norway\", \"Iceland\", \"Sweden\", \"Denmark\", \"Netherlands\", \"Belgium\", \"Finland\", \"Switzerland\"),\n  Code = c(\"NOR\", \"ISL\", \"SWE\", \"DNK\", \"NLD\", \"BEL\", \"FIN\", \"CHE\"),\n  Market_Share = c(29, 18, 11, 11, 8.3, 8.2, 8.1, 5.8)\n)\n\n<h5 style=\"font-size: 1.5em;\"> Create the choropleth map for Market Share</h5>\n\nfig2 <- plot_ly(market_share, \n                 type = 'choropleth', \n                 locations = ~Code, \n                 z = ~Market_Share, \n                 text = ~paste(Country, \"<br>Market Share:\", Market_Share, \"%\"),\n                 colorscale = 'Blues',\n                 autocolorscale = FALSE, \n                 reversescale = TRUE, \n                 marker = list(line = list(color = 'rgb(180,180,180)', width = 0.5)),\n                 colorbar = list(title = 'Market Share (%)'))\n\n\n<h5 style=\"font-size: 1.5em;\"> Update the layout for the Market Share map</h5>\n\nfig2 <- fig2 %>% layout(\n  title = 'Market Share by Country',\n  geo = list(\n    showframe = FALSE,\n    showcoastlines = TRUE,\n    showland = TRUE,\n    landcolor = \"rgb(217, 217, 217)\",\n    coastlinecolor = \"rgb(180, 180, 180)\",\n    projection = list(type = 'Mercator'),\n    countrycolor = 'rgb(180, 180, 180)',\n    countrywidth = 0.5\n  )\n)\n\n\n<h5 style=\"font-size: 1.5em;\">  Create a subplot to show both maps side by side</h5>\n\ncombined_fig <- subplot(fig, fig2, nrows = 1, margin = 0.05)\n\n\n<h5 style=\"font-size: 1.5em;\">Show the combined plot</h5>\n\ncombined_fig\n\n\n\n<h2 style=\"font-size: 2.5em;\">showing global comparsion of deaths by income group(STACKED BAR)</h2>\n\nlibrary(ggplot2)\n\nlibrary(dplyr)\n\n\n<h5 style=\"font-size: 1.5em;\">Example data</h5>\ndata <- data.frame(\n  Category = rep(c(\"Population\", \"Road Traffic Deaths\", \"Registered Vehicles\"), each = 3),\n  Group = rep(c(\"High Income\", \"Middle Income\", \"Low Income\"), times = 3),\n  Value = c(20, 60, 20, 10, 70, 20, 55, 30, 15)\n)\n\n\n<h5 style=\"font-size: 1.5em;\">Create the stacked bar chart</h5>\nggplot(data, aes(x = Category, y = Value, fill = Group)) +\n  geom_bar(stat = \"identity\", position = \"fill\") +\n  scale_y_continuous(labels = scales::percent) +\n  labs(title = \"Global Comparison by Income Group\",\n       y = \"Proportion (%)\", x = \"Category\") +\n  scale_fill_manual(values = c(\"High Income\" = \"darkblue\", \"Middle Income\" = \"orange\", \"Low Income\" = \"red\")) +\n  theme_minimal()\n\n\n\n\n\n<h2 style=\"font-size: 2.5em;\">VEHICLE OWNERSHIP TO ROAD DEATHS BY INCOME GROUP(BAR_GRAPH)</h2>\n\nlibrary(ggplot2)\n\nlibrary(tidyr)\n\n\n<h5 style=\"font-size: 1.5em;\">Example data for vehicle ownership and road deaths by income group</h5>\ndata <- data.frame(\n  Group = c(\"High Income\", \"Middle Income\", \"Low Income\"),\n  Vehicles = c(50, 35, 15),\n  Deaths = c(10, 70, 90)\n)\n\n\n<h5 style=\"font-size: 1.5em;\"> Transform the data into long format for side-by-side bars</h5>\ndata_long <- data %>%\n  pivot_longer(cols = c(\"Vehicles\", \"Deaths\"), names_to = \"Category\", values_to = \"Percentage\")\n\n\n<h5 style=\"font-size: 1.5em;\"> Create the side-by-side bar plot</h5>\nggplot(data_long, aes(x = Group, y = Percentage, fill = Category)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Vehicle Ownership vs. Road Deaths by Income Group\",\n       y = \"Percentage (%)\", x = \"Income Group\") +\n  scale_fill_manual(values = c(\"Vehicles\" = \"darkblue\", \"Deaths\" = \"red\")) +\n  theme_minimal() +\n  theme(legend.title = element_blank())\n\n\n\n\n  \n\n\n"},"formats":{"dashboard":{"identifier":{"display-name":"HTML","target-format":"dashboard","base-format":"dashboard"},"execute":{"fig-width":8,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":"all","plotly-connected":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"projects.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","page-layout":"custom","editor":"visual","title":"PROJECT"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}